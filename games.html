<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Games • WordMasters Practice</title>
  <link rel="stylesheet" href="assets/styles.css" />
</head>
<body>
  <div class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <div class="logo"></div>
        <div>WordMasters Practice <small>Games</small></div>
      </div>

      <div class="nav">
        <a class="pill" href="index.html">Home</a>
        <a class="pill" href="week1.html">Week 1</a>
        <a class="pill" href="week2.html">Week 2</a>
        <a class="pill" href="mixed_review.html">Mixed Review</a>
        <a class="pill" href="vocab_dropdown_story.html">Story</a>
        <a class="pill" href="games.html">Games</a>
        <a class="pill" href="about.html">About</a>
      </div>

      <div class="right-tools">
        <span id="teacherBadge" class="teacherBadge">TEACHER</span>

        <!-- Hidden unless unlocked by typing: toggle -->
        <div class="toggle">
          <span id="teacherModeLabel">Student Mode</span>
          <label class="switch">
            <input id="teacherModeToggle" type="checkbox" />
            <span class="knob"></span>
          </label>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="hero">
      <h1>Games</h1>
      <p>
        Fast drills using your word list. Teacher Mode shows the explanation after an answer.
        (Secret: double-click the logo.)
      </p>
    </div>

    <div class="sectionTitle">Speed Quiz (10 questions)</div>

    <div class="panel" id="quizPanel">
      <div class="row" style="justify-content:space-between; align-items:flex-start;">
        <div>
          <div class="muted small" id="progress"></div>
          <h2 style="margin:6px 0 6px" id="questionText"></h2>
          <div class="muted small" id="scoreText"></div>
        </div>
      </div>

      <div class="hr"></div>
      <div class="row" id="choices" style="gap:10px;"></div>
      <div class="hr"></div>

      <div class="row" style="justify-content:space-between;">
        <div class="muted" id="feedback"></div>
        <button class="btn primary" type="button" id="nextBtn">Next →</button>
      </div>
    </div>

    <div class="footer">Word list: stamina, sketchy, mettle, tyrant, shirk, domineer, mundane, disposition, bicker, etiquette, faux pas, amicable, enact, establish, rigorous, peaked, snicker, sneer, wrangle, lax, haggard, threshold, derelict, refuse, evade.</div>
  </div>

  <script src="assets/app.js"></script>
  <script>
    const quiz = [
      { q:"Which word means “endurance over time”?", c:["stamina","refuse","threshold","snicker"], a:0,
        e:"Stamina is the ability to keep going without getting tired." },

      { q:"Which word best means “suspicious or not trustworthy”?", c:["amicable","sketchy","rigorous","mundane"], a:1,
        e:"Sketchy means suspicious or unreliable." },

      { q:"Which word means “courage/strength of character under pressure”?", c:["mettle","etiquette","disposition","refuse"], a:0,
        e:"Mettle means courage and toughness." },

      { q:"A ______ is someone who rules cruelly and unfairly.", c:["tyrant","derelict","threshold","wrangle"], a:0,
        e:"A tyrant is an oppressive ruler." },

      { q:"Which word means “avoid duties on purpose”?", c:["shirk","enact","establish","peaked"], a:0,
        e:"Shirk means to avoid responsibilities." },

      { q:"Which word means “to boss people around”?", c:["domineer","bicker","snicker","evade"], a:0,
        e:"Domineer means to control or push others around." },

      { q:"If something is ordinary and boring, it is ______.", c:["lax","mundane","haggard","derelict"], a:1,
        e:"Mundane means ordinary, not exciting." },

      { q:"Which word means “polite rules for behavior”?", c:["etiquette","refuse","wrangle","sneer"], a:0,
        e:"Etiquette is proper manners/behavior rules." },

      { q:"A social mistake (like saying the wrong thing at dinner) is a ______.", c:["faux pas","threshold","mettle","rigorous"], a:0,
        e:"Faux pas = embarrassing social mistake." },

      { q:"Which word means “argue about small things”?", c:["bicker","establish","enact","evade"], a:0,
        e:"Bicker means to argue, usually about minor issues." }
    ];

    let i = 0, score = 0, answered = false;

    const progress = document.getElementById("progress");
    const questionText = document.getElementById("questionText");
    const scoreText = document.getElementById("scoreText");
    const choices = document.getElementById("choices");
    const feedback = document.getElementById("feedback");
    const nextBtn = document.getElementById("nextBtn");

    function teacherOn(){ return localStorage.getItem("wm_teacher_mode") === "1"; }

    function render(){
      answered = false;
      feedback.textContent = "";
      choices.innerHTML = "";
      progress.textContent = `Question ${i+1} of ${quiz.length}`;
      scoreText.textContent = `Score: ${score}`;
      questionText.textContent = quiz[i].q;

      quiz[i].c.forEach((txt, idx) => {
        const b = document.createElement("button");
        b.className = "btn";
        b.type = "button";
        b.textContent = txt;
        b.onclick = () => choose(idx, b);
        choices.appendChild(b);
      });

      nextBtn.textContent = (i === quiz.length - 1) ? "Finish" : "Next →";
    }

    function choose(idx, btn){
      if(answered) return;
      answered = true;

      const correct = (idx === quiz[i].a);
      if(correct){
        score++;
        btn.classList.add("good");
        feedback.textContent = "✅ Correct!";
      } else {
        btn.classList.add("bad");
        feedback.textContent = "❌ Not quite.";
      }

      if(teacherOn()){
        feedback.innerHTML =
          `<div class="notice teacher">
            <div>
              <strong>Answer:</strong> ${quiz[i].c[quiz[i].a]}
              <div class="small muted" style="margin-top:6px">${quiz[i].e}</div>
            </div>
          </div>`;
      }

      scoreText.textContent = `Score: ${score}`;
    }

    nextBtn.onclick = () => {
      if(i < quiz.length - 1){
        i++;
        render();
      } else {
        document.getElementById("quizPanel").innerHTML =
          `<div class="panel">
            <h2 style="margin:0 0 8px">Finished!</h2>
            <p class="muted" style="margin:0 0 14px">You scored <strong>${score}</strong> out of <strong>${quiz.length}</strong>.</p>
            <div class="row">
              <a class="btn primary" href="games.html">Play Again</a>
              <a class="btn" href="index.html">Home</a>
            </div>
          </div>`;
      }
    };

    render();
  </script>
</body>
</html>
